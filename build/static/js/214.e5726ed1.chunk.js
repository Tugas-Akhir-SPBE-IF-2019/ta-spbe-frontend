"use strict";(self.webpackChunktugas_akhir_spbe=self.webpackChunktugas_akhir_spbe||[]).push([[214],{214:function(t,e,a){a.r(e),a.d(e,{EditProfileSPBEContainer:function(){return D},default:function(){return E}});var i=a(7762),n=a(2982),s=a(1413),o=a(5671),l=a(3144),u=a(7326),r=a(136),d=a(1129),h=a(2791),v=a(8687),c=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.editEvaluationDataReducer)&&void 0!==e&&e.evaluationData?t.editEvaluationDataReducer.evaluationData:[]},f=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.editEvaluationDataReducer)&&void 0!==e&&e.successMessage?t.editEvaluationDataReducer.successMessage:""},p=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.editEvaluationDataReducer)&&void 0!==e&&e.institutionList?t.editEvaluationDataReducer.institutionList:[]},g=a(8140),m=a(4527),y=a(184),Z=(0,h.lazy)((function(){return Promise.all([a.e(2861),a.e(7625),a.e(6477),a.e(9027),a.e(4870),a.e(801)]).then(a.bind(a,6261))})),D=function(t){(0,r.Z)(a,t);var e=(0,d.Z)(a);function a(t){var i;return(0,o.Z)(this,a),(i=e.call(this,t)).state={list_items:[],showModal:!1},i.addField=i.addField.bind((0,u.Z)(i)),i.deleteField=i.deleteField.bind((0,u.Z)(i)),i.handleInputChange=i.handleInputChange.bind((0,u.Z)(i)),i.handleUpdateEvaluationData=i.handleUpdateEvaluationData.bind((0,u.Z)(i)),i.validateEdit=i.validateEdit.bind((0,u.Z)(i)),i.toggleModal=i.toggleModal.bind((0,u.Z)(i)),i}return(0,l.Z)(a,[{key:"componentDidMount",value:function(){this.props.getProfileEvaluationData(),this.props.getInstitutionListData({limit:1e3})}},{key:"componentDidUpdate",value:function(t){var e=this.state.list_items,a=this.props.evaluationDataResponse;t.evaluationDataResponse!==a&&(0!==a.length?this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:JSON.parse(JSON.stringify(a))})):0===e.length&&this.addField()),t.successMessageResponse!==this.props.successMessageResponse&&this.toggleModal()}},{key:"addField",value:function(){var t=this.state.list_items;this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:[].concat((0,n.Z)(t),[{role:"",institution_id:"",evaluation_year:""}])}))}},{key:"deleteField",value:function(t){var e=this.state.list_items,a=(0,n.Z)(e);a.splice(t+1,1),this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:a}))}},{key:"handleInputChange",value:function(t,e){var a=t.target,i=a.name,o=a.value,l=this.state.list_items,u=o,r=(0,n.Z)(l);"role"!==i&&""!==u&&(u=parseInt(u)),r[e][i]=u,this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:r}))}},{key:"handleUpdateEvaluationData",value:function(t){t.preventDefault();var e=this.state.list_items;this.validateEdit()&&this.props.updateProfileEvaluationData(e)}},{key:"validateEdit",value:function(){var t,e=this.state.list_items,a=(0,i.Z)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(!n.role)return(0,m.CF)("Peran harus diisi!"),!1;if(!n.institution_id)return(0,m.CF)("Nama institusi harus diisi!"),!1;if(!n.evaluation_year)return(0,m.CF)("Tahun evaluasi harus diisi!"),!1}}catch(s){a.e(s)}finally{a.f()}return!0}},{key:"toggleModal",value:function(){this.setState((0,s.Z)((0,s.Z)({},this.state),{},{showModal:!this.state.showModal}))}},{key:"render",value:function(){var t=this.state,e=t.list_items,a=t.showModal,i=this.props.institutionListResponse;return(0,y.jsx)(Z,{list_items:e,addField:this.addField,deleteField:this.deleteField,handleInputChange:this.handleInputChange,handleUpdateEvaluationData:this.handleUpdateEvaluationData,showModal:a,toggleModal:this.toggleModal,institutionListResponse:i})}}]),a}(h.PureComponent);var E=(0,v.$j)((function(t){return{institutionListResponse:p(t),evaluationDataResponse:c(t),successMessageResponse:f(t)}}),(function(t){return{getInstitutionListData:function(e){return t((0,g.gF)(e))},getProfileEvaluationData:function(){return t((0,g.l0)())},updateProfileEvaluationData:function(e){return t((0,g.y7)(e))}}}))(D)},7762:function(t,e,a){a.d(e,{Z:function(){return n}});var i=a(181);function n(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=(0,i.Z)(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return l=t.done,t},e:function(t){u=!0,o=t},f:function(){try{l||null==a.return||a.return()}finally{if(u)throw o}}}}}}]);
//# sourceMappingURL=214.e5726ed1.chunk.js.map