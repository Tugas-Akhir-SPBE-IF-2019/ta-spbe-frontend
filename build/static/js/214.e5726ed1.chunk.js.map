{"version":3,"file":"static/js/214.e5726ed1.chunk.js","mappings":"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","sources":["containers/EditProfileSPBE/selector.tsx","containers/EditProfileSPBE/index.tsx","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"sourcesContent":["const evaluationDataSelector = (state: any) => {\n    return state?.editEvaluationDataReducer?.evaluationData\n        ? state.editEvaluationDataReducer.evaluationData\n        : [];\n};\n\nconst successMessageSelector = (state: any) => {\n    return state?.editEvaluationDataReducer?.successMessage\n        ? state.editEvaluationDataReducer.successMessage\n        : \"\";\n};\n\nconst institutionListSelector = (state: any) => {\n    return state?.editEvaluationDataReducer?.institutionList\n        ? state.editEvaluationDataReducer.institutionList\n        : [];\n};\n\nexport {\n    evaluationDataSelector,\n    successMessageSelector,\n    institutionListSelector\n};\n","import { lazy, PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    institutionListSelector,\n    evaluationDataSelector,\n    successMessageSelector\n} from \"./selector\";\nimport {\n    getInstitutionList,\n    getEvaluationData,\n    updateEvaluationData\n} from \"./action\";\nimport { showToast } from \"../../utils/general\";\n\nconst EditProfileSPBEComponent = lazy(() => import(\"../../components/EditProfileSPBE\"));\n\nexport class EditProfileSPBEContainer extends PureComponent<any, any> {\n    static propTypes = {\n        history: PropTypes.any,\n        institutionListResponse: PropTypes.any,\n        evaluationDataResponse: PropTypes.any,\n        successMessageResponse: PropTypes.string,\n    };\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            list_items: [],\n            showModal: false,\n        };\n        this.addField = this.addField.bind(this);\n        this.deleteField = this.deleteField.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleUpdateEvaluationData = this.handleUpdateEvaluationData.bind(this);\n        this.validateEdit = this.validateEdit.bind(this);\n        this.toggleModal = this.toggleModal.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.getProfileEvaluationData();\n        this.props.getInstitutionListData({limit: 1000});\n    }\n\n    componentDidUpdate(prevProps: any) {\n        const { list_items } = this.state;\n        const { evaluationDataResponse } = this.props;\n        if (prevProps.evaluationDataResponse !== evaluationDataResponse) {\n            if (evaluationDataResponse.length !== 0) {\n                this.setState({\n                    ...this.state,\n                    list_items: JSON.parse(JSON.stringify(evaluationDataResponse)),\n                });\n            }\n            else if (list_items.length === 0) {\n                this.addField();\n            }\n        }\n        if (prevProps.successMessageResponse !== this.props.successMessageResponse) {\n            this.toggleModal();\n        }\n    }\n\n    private addField(): void {\n        const { list_items } = this.state;\n        let item = {\n            role: \"\",\n            institution_id: \"\",\n            evaluation_year: \"\",\n        };\n        this.setState({\n            ...this.state,\n            list_items: [...list_items, item],\n        })\n    }\n\n    private deleteField(index: number): void {\n        const { list_items } = this.state;\n        let new_list = [...list_items];\n        new_list.splice(index+1, 1);\n        this.setState({\n            ...this.state,\n            list_items: new_list,\n        })\n    }\n\n    private handleInputChange(e: any, index: number): void {\n        const { name, value } = e.target;\n        const { list_items } = this.state;\n\n        let val = value;\n        let new_list = [...list_items];\n        if (name !== \"role\" && val !== \"\") {\n            val = parseInt(val);\n        }\n        new_list[index][name] = val;\n        this.setState({\n            ...this.state,\n            list_items: new_list,\n        })\n    }\n\n    private handleUpdateEvaluationData(e: any): void {\n        e.preventDefault();\n        const { list_items } = this.state;\n        if (this.validateEdit()) {\n            this.props.updateProfileEvaluationData(list_items);\n        }\n    }\n\n    private validateEdit(): boolean {\n        const { list_items } = this.state;\n        for (let item of list_items) {\n            if (!item.role) {\n                showToast(\"Peran harus diisi!\");\n                return false;\n            }\n            else if (!item.institution_id) {\n                showToast(\"Nama institusi harus diisi!\");\n                return false;\n            }\n            else if (!item.evaluation_year) {\n                showToast(\"Tahun evaluasi harus diisi!\");\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private toggleModal(): void {\n        this.setState({\n            ...this.state,\n            showModal: !this.state.showModal,\n        });\n    }\n\n    render() {\n        const { list_items, showModal } = this.state;\n        const { institutionListResponse } = this.props;\n        return (\n            <EditProfileSPBEComponent\n                list_items={list_items}\n                addField={this.addField}\n                deleteField={this.deleteField}\n                handleInputChange={this.handleInputChange}\n                handleUpdateEvaluationData={this.handleUpdateEvaluationData}\n                showModal={showModal}\n                toggleModal={this.toggleModal}\n                institutionListResponse={institutionListResponse}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        institutionListResponse: institutionListSelector(state),\n        evaluationDataResponse: evaluationDataSelector(state),\n        successMessageResponse: successMessageSelector(state),\n    };\n};\n  \nfunction mapDispatchToProps(dispatch: any) {\n    return {\n        getInstitutionListData: (params: any) => dispatch(getInstitutionList(params)),\n        getProfileEvaluationData: () => dispatch(getEvaluationData()),\n        updateProfileEvaluationData: (params: any) => dispatch(updateEvaluationData(params)),\n    };\n}\n  \nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(EditProfileSPBEContainer);","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"names":["evaluationDataSelector","state","editEvaluationDataReducer","evaluationData","successMessageSelector","successMessage","institutionListSelector","institutionList","EditProfileSPBEComponent","lazy","EditProfileSPBEContainer","props","list_items","showModal","addField","bind","deleteField","handleInputChange","handleUpdateEvaluationData","validateEdit","toggleModal","this","getProfileEvaluationData","getInstitutionListData","limit","prevProps","evaluationDataResponse","length","setState","JSON","parse","stringify","successMessageResponse","role","institution_id","evaluation_year","index","new_list","splice","e","target","name","value","val","parseInt","preventDefault","updateProfileEvaluationData","item","showToast","institutionListResponse","PureComponent","connect","dispatch","params","getInstitutionList","getEvaluationData","updateEvaluationData","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","i","F","s","n","done","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2"],"sourceRoot":""}