"use strict";(self.webpackChunktugas_akhir_spbe=self.webpackChunktugas_akhir_spbe||[]).push([[5829],{5829:function(t,e,n){n.r(e),n.d(e,{UploadDocumentsContainer:function(){return D},default:function(){return y}});var i=n(7762),a=n(4942),o=n(2982),s=n(1413),u=n(5671),r=n(3144),l=n(7326),d=n(136),c=n(1129),h=n(2791),f=n(8687),p=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.uploadDocumentsReducer)&&void 0!==e&&e.uploadMessage?t.uploadDocumentsReducer.uploadMessage:""},m=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.uploadDocumentsReducer)&&void 0!==e&&e.institutionData?t.uploadDocumentsReducer.institutionData:[]},v=n(2205),g=n(4527),Z=n(184),k=(0,h.lazy)((function(){return Promise.all([n.e(2861),n.e(7625),n.e(6477),n.e(9027),n.e(4870),n.e(9099),n.e(6731)]).then(n.bind(n,6731))})),D=function(t){(0,d.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,u.Z)(this,n),(i=e.call(this,t)).state={institution_name:"",indicator_number:[],supporting_document:[],old_document:[],institution_options:[],meeting_minutes:[],show_modal:!1},i.handleInputChange=i.handleInputChange.bind((0,l.Z)(i)),i.handleUploadDocuments=i.handleUploadDocuments.bind((0,l.Z)(i)),i.isChecked=i.isChecked.bind((0,l.Z)(i)),i.deleteFile=i.deleteFile.bind((0,l.Z)(i)),i.toggleModal=i.toggleModal.bind((0,l.Z)(i)),i.validateForm=i.validateForm.bind((0,l.Z)(i)),i}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this.props.getProfileInstitutionData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.uploadMessageResponse,i=e.institutionDataResponse;if(t.uploadMessageResponse!==n&&n&&this.toggleModal(),t.institutionDataResponse!==i){var a=i.filter((function(t){return"VALID"===t.status}));this.setState((0,s.Z)((0,s.Z)({},this.state),{},{institution_options:a}))}}},{key:"handleInputChange",value:function(t,e){if("CHECK"===e){var n=t.target,i=n.name,u=n.value,r=this.state[i];if(-1===r.indexOf(u))this.setState((0,s.Z)((0,s.Z)({},this.state),{},(0,a.Z)({},i,[].concat((0,o.Z)(r),[u]))));else{var l=r.filter((function(t){return t!==u}));this.setState((0,s.Z)((0,s.Z)({},this.state),{},(0,a.Z)({},i,l)))}}else if("FILES"===e){var d=t.target,c=d.name,h=d.files,f=Array.from(h),p=!0;f.forEach((function(e){e.name.endsWith("pdf")||((0,g.CF)("Semua file harus berbentuk PDF!"),t.target.value="",p=!1)})),p&&this.setState((0,s.Z)((0,s.Z)({},this.state),{},(0,a.Z)({},c,f)))}else{var m=t.target,v=m.name,Z=m.value;this.setState((0,s.Z)((0,s.Z)({},this.state),{},(0,a.Z)({},v,Z)))}}},{key:"handleUploadDocuments",value:function(t){t.preventDefault(),this.validateForm()&&this.props.uploadDocumentsData(this.state)}},{key:"isChecked",value:function(t){return-1!==this.state.indicator_number.indexOf(t)}},{key:"deleteFile",value:function(t,e){var n=(0,o.Z)(this.state[e]);n.splice(t,1),this.setState((0,s.Z)((0,s.Z)({},this.state),{},(0,a.Z)({},e,n)))}},{key:"toggleModal",value:function(){var t=this.state.showModal;this.setState((0,s.Z)((0,s.Z)({},this.state),{},{showModal:!t}))}},{key:"validateForm",value:function(){var t,e=this.state,n=e.institution_name,a=e.indicator_number,o=e.supporting_document,s=e.old_document,u=e.meeting_minutes,r=0,l=(0,i.Z)(o);try{for(l.s();!(t=l.n()).done;){r+=t.value.size}}catch(p){l.e(p)}finally{l.f()}var d,c=(0,i.Z)(s);try{for(c.s();!(d=c.n()).done;){r+=d.value.size}}catch(p){c.e(p)}finally{c.f()}var h,f=(0,i.Z)(u);try{for(f.s();!(h=f.n()).done;){r+=h.value.size}}catch(p){f.e(p)}finally{f.f()}if(n)if(0===a.length)(0,g.CF)("Nomor Indikator Tidak Boleh Kosong!");else if(0===o.length)(0,g.CF)("Jumlah Dokumen Pendukung Minimal 1!");else{if(!(r>10485760))return!0;(0,g.CF)("Ukuran total dokumen maksimal 10MB!")}else(0,g.CF)("Nama Institusi Tidak Boleh Kosong!")}},{key:"render",value:function(){var t=this.props,e=t.uploadMessageResponse,n=t.institutionDataResponse,i=this.state,a=i.institution_options,o=i.old_document,s=i.supporting_document,u=i.meeting_minutes,r=i.showModal;return(0,Z.jsx)(k,{uploadMessageResponse:e,institutionDataResponse:n,handleInputChange:this.handleInputChange,handleUploadDocuments:this.handleUploadDocuments,institution_options:a,old_document:o,supporting_document:s,meeting_minutes:u,isChecked:this.isChecked,deleteFile:this.deleteFile,toggleModal:this.toggleModal,showModal:r})}}]),n}(h.PureComponent);var y=(0,f.$j)((function(t){return{uploadMessageResponse:p(t),institutionDataResponse:m(t)}}),(function(t){return{uploadDocumentsData:function(e){return t((0,v.GA)(e))},getProfileInstitutionData:function(){return t((0,v.v2)())}}}))(D)},7762:function(t,e,n){n.d(e,{Z:function(){return a}});var i=n(181);function a(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,i.Z)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,u=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){r=!0,s=t},f:function(){try{u||null==n.return||n.return()}finally{if(r)throw s}}}}}}]);
//# sourceMappingURL=5829.13616e4f.chunk.js.map