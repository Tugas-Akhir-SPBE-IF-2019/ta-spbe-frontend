{"version":3,"file":"static/js/5829.13616e4f.chunk.js","mappings":"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","sources":["containers/UploadDocuments/selector.tsx","containers/UploadDocuments/index.tsx","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"sourcesContent":["const uploadMessageSelector = (state: any) => {\n    return state?.uploadDocumentsReducer?.uploadMessage\n        ? state.uploadDocumentsReducer.uploadMessage\n        : \"\";\n};\n\nconst institutionDataSelector = (state: any) => {\n    return state?.uploadDocumentsReducer?.institutionData\n        ? state.uploadDocumentsReducer.institutionData\n        : [];\n};\n\nexport {\n    uploadMessageSelector,\n    institutionDataSelector,\n};\n","import { lazy, PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { uploadMessageSelector, institutionDataSelector } from \"./selector\";\nimport { uploadDocuments, getInstitutionData } from \"./action\";\nimport { showToast } from \"../../utils/general\";\n\nconst UploadDocumentsComponent = lazy(() => import(\"../../components/UploadDocuments\"));\n\nexport class UploadDocumentsContainer extends PureComponent<any, any> {\n    static propTypes = {\n        history: PropTypes.any,\n        uploadMessageResponse: PropTypes.string,\n        institutionDataResponse: PropTypes.array,\n    };\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            institution_name: \"\",\n            indicator_number: [],\n            supporting_document: [],\n            old_document: [],\n            institution_options: [],\n            meeting_minutes: [],\n            show_modal: false,\n        };\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleUploadDocuments = this.handleUploadDocuments.bind(this);\n        this.isChecked = this.isChecked.bind(this);\n        this.deleteFile = this.deleteFile.bind(this);\n        this.toggleModal = this.toggleModal.bind(this);\n        this.validateForm = this.validateForm.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.getProfileInstitutionData();\n    }\n\n    componentDidUpdate(prevProps: any) {\n        const { uploadMessageResponse, institutionDataResponse } = this.props;\n        if (prevProps.uploadMessageResponse !== uploadMessageResponse && uploadMessageResponse) {\n            this.toggleModal();\n        }\n        if (prevProps.institutionDataResponse !== institutionDataResponse) {\n            let newOptions = institutionDataResponse.filter(item => item.status === \"VALID\");\n            this.setState({\n                ...this.state,\n                institution_options: newOptions,\n            });\n        }\n    }\n\n    private handleInputChange(e: any, type: string): void {\n        if (type === \"CHECK\") {\n            const { name, value } = e.target;\n            const arr = this.state[name];\n            if (arr.indexOf(value) === -1) {\n                this.setState({\n                    ...this.state,\n                    [name]: [...arr, value],\n                })\n            }\n            else {\n                const newArr = arr.filter((el) => el !== value);\n                this.setState({\n                    ...this.state,\n                    [name]: newArr,\n                })\n            }\n        }\n        else if (type === \"FILES\") {\n            const { name, files } = e.target;\n            const filesArray = Array.from(files);\n            let valid = true;\n            filesArray.forEach(function (file: any) {\n                if (!file.name.endsWith(\"pdf\")) {\n                    showToast(\"Semua file harus berbentuk PDF!\");\n                    e.target.value = \"\";\n                    valid = false;\n                }\n            });\n            if (valid) {\n                this.setState({\n                    ...this.state,\n                    [name]: filesArray,\n                });\n            }\n        }\n        else {\n            // Type === RADIO / SELECT / SELECTALL / RESET\n            const { name, value } = e.target;\n            this.setState({\n                ...this.state,\n                [name]: value,\n            })\n        }\n    }\n\n    private handleUploadDocuments(e: any): void {\n        e.preventDefault();\n\n        if (this.validateForm()) {\n            this.props.uploadDocumentsData(this.state);\n        }\n    }\n\n    private isChecked (el: string): boolean {\n        const { indicator_number } = this.state;\n        if (indicator_number.indexOf(el) === -1) {\n            return false\n        }\n        return true\n    }\n\n    private deleteFile (index: number, name: string): void {\n        let new_list = [...this.state[name]];\n        new_list.splice(index, 1);\n        this.setState({\n            ...this.state,\n            [name]: new_list,\n        })\n    }\n\n    private toggleModal(): void {\n        const { showModal } = this.state;\n        this.setState({\n            ...this.state,\n            showModal: !showModal,\n        })\n    }\n\n    private validateForm(): any {\n        const { institution_name, indicator_number, supporting_document, old_document, meeting_minutes } = this.state;\n\n        let fileSize = 0;\n        for (let file of supporting_document) {\n            fileSize += file.size;\n        }\n        for (let file of old_document) {\n            fileSize += file.size;\n        }\n        for (let file of meeting_minutes) {\n            fileSize += file.size;\n        }\n\n        if (!institution_name) {\n            showToast(\"Nama Institusi Tidak Boleh Kosong!\");\n        }\n        else if (indicator_number.length === 0) {\n            showToast(\"Nomor Indikator Tidak Boleh Kosong!\");\n        }\n        else if (supporting_document.length === 0) {\n            showToast(\"Jumlah Dokumen Pendukung Minimal 1!\");\n        }\n        else if (fileSize > 10485760) {\n            showToast(\"Ukuran total dokumen maksimal 10MB!\");\n        }\n        else {\n            return true;\n        }\n    }\n\n    render() {\n        const { uploadMessageResponse, institutionDataResponse } = this.props;\n        const { institution_options, old_document, supporting_document, meeting_minutes, showModal } = this.state;\n        return (\n            <UploadDocumentsComponent\n                uploadMessageResponse={uploadMessageResponse}\n                institutionDataResponse={institutionDataResponse}\n                handleInputChange={this.handleInputChange}\n                handleUploadDocuments={this.handleUploadDocuments}\n                institution_options={institution_options}\n                old_document={old_document}\n                supporting_document={supporting_document}\n                meeting_minutes={meeting_minutes}\n                isChecked={this.isChecked}\n                deleteFile={this.deleteFile}\n                toggleModal={this.toggleModal}\n                showModal={showModal}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        uploadMessageResponse: uploadMessageSelector(state),\n        institutionDataResponse: institutionDataSelector(state),\n    };\n};\n  \nfunction mapDispatchToProps(dispatch: any) {\n    return {\n        uploadDocumentsData: (params: any) => dispatch(uploadDocuments(params)),\n        getProfileInstitutionData: () => dispatch(getInstitutionData()),\n    };\n}\n  \nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(UploadDocumentsContainer);","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"names":["uploadMessageSelector","state","uploadDocumentsReducer","uploadMessage","institutionDataSelector","institutionData","UploadDocumentsComponent","lazy","UploadDocumentsContainer","props","institution_name","indicator_number","supporting_document","old_document","institution_options","meeting_minutes","show_modal","handleInputChange","bind","handleUploadDocuments","isChecked","deleteFile","toggleModal","validateForm","this","getProfileInstitutionData","prevProps","uploadMessageResponse","institutionDataResponse","newOptions","filter","item","status","setState","e","type","target","name","value","arr","indexOf","newArr","el","files","filesArray","Array","from","valid","forEach","file","endsWith","showToast","preventDefault","uploadDocumentsData","index","new_list","splice","showModal","fileSize","size","length","PureComponent","connect","dispatch","params","uploadDocuments","getInstitutionData","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","isArray","i","F","s","n","done","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2"],"sourceRoot":""}