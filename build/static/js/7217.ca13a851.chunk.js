"use strict";(self.webpackChunktugas_akhir_spbe=self.webpackChunktugas_akhir_spbe||[]).push([[7217],{7217:function(t,e,a){a.r(e),a.d(e,{EditProfileWorkContainer:function(){return y},default:function(){return Z}});var n=a(7762),i=a(2982),s=a(1413),o=a(5671),r=a(3144),l=a(7326),d=a(136),u=a(1129),h=a(2791),c=a(8687),f=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.editJobDataReducer)&&void 0!==e&&e.jobData?t.editJobDataReducer.jobData:[]},p=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.editJobDataReducer)&&void 0!==e&&e.successMessage?t.editJobDataReducer.successMessage:""},v=a(4912),b=a(4527),g=a(184),m=(0,h.lazy)((function(){return Promise.all([a.e(2861),a.e(7625),a.e(6477),a.e(9027),a.e(4870),a.e(5290)]).then(a.bind(a,4982))})),y=function(t){(0,d.Z)(a,t);var e=(0,u.Z)(a);function a(t){var n;return(0,o.Z)(this,a),(n=e.call(this,t)).state={list_items:[]},n.addField=n.addField.bind((0,l.Z)(n)),n.deleteField=n.deleteField.bind((0,l.Z)(n)),n.handleInputChange=n.handleInputChange.bind((0,l.Z)(n)),n.validateEdit=n.validateEdit.bind((0,l.Z)(n)),n.handleUpdateJobData=n.handleUpdateJobData.bind((0,l.Z)(n)),n.toggleModal=n.toggleModal.bind((0,l.Z)(n)),n}return(0,r.Z)(a,[{key:"componentDidMount",value:function(){this.props.getProfileJobData()}},{key:"componentDidUpdate",value:function(t){var e=this.state.list_items,a=this.props.jobDataResponse;t.jobDataResponse!==a&&(0!==a.length?this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:JSON.parse(JSON.stringify(a))})):0===e.length&&this.addField()),t.successMessageResponse!==this.props.successMessageResponse&&this.toggleModal()}},{key:"addField",value:function(){var t=this.state.list_items;this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:[].concat((0,i.Z)(t),[{job:"",company:"",joined_year:""}])}))}},{key:"deleteField",value:function(t){var e=this.state.list_items,a=(0,i.Z)(e);a.splice(t+1,1),this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:a}))}},{key:"handleInputChange",value:function(t,e){var a=t.target,n=a.name,o=a.value,r=this.state.list_items,l=o,d=(0,i.Z)(r);"joined_year"===n&&""!==l&&(l=parseInt(l)),d[e][n]=l,this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:d}))}},{key:"validateEdit",value:function(){var t,e=this.state.list_items,a=(0,n.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!i.role)return(0,b.CF)("Peran harus diisi!"),!1;if(!i.company)return(0,b.CF)("Nama instansi harus diisi!"),!1;if(!i.joined_year)return(0,b.CF)("Tahun masuk harus diisi!"),!1}}catch(s){a.e(s)}finally{a.f()}return!0}},{key:"handleUpdateJobData",value:function(t){t.preventDefault();var e=this.state.list_items;this.validateEdit()&&this.props.updateProfileJobData(e)}},{key:"toggleModal",value:function(){this.setState((0,s.Z)((0,s.Z)({},this.state),{},{showModal:!this.state.showModal}))}},{key:"render",value:function(){var t=this.state,e=t.list_items,a=t.showModal;return(0,g.jsx)(m,{list_items:e,addField:this.addField,deleteField:this.deleteField,handleInputChange:this.handleInputChange,handleUpdateJobData:this.handleUpdateJobData,showModal:a,toggleModal:this.toggleModal})}}]),a}(h.PureComponent);var Z=(0,c.$j)((function(t){return{jobDataResponse:f(t),successMessageResponse:p(t)}}),(function(t){return{getProfileJobData:function(){return t((0,v.lt)())},updateProfileJobData:function(e){return t((0,v.HL)(e))}}}))(y)},7762:function(t,e,a){a.d(e,{Z:function(){return i}});var n=a(181);function i(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=(0,n.Z)(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return r=t.done,t},e:function(t){l=!0,o=t},f:function(){try{r||null==a.return||a.return()}finally{if(l)throw o}}}}}}]);
//# sourceMappingURL=7217.ca13a851.chunk.js.map