"use strict";(self.webpackChunktugas_akhir_spbe=self.webpackChunktugas_akhir_spbe||[]).push([[7497],{7497:function(t,e,i){i.r(e),i.d(e,{EditProfileInstitutionContainer:function(){return y},default:function(){return D}});var n=i(7762),a=i(2982),s=i(1413),o=i(5671),u=i(3144),r=i(7326),l=i(136),d=i(1129),h=i(2791),c=i(8687),f=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.editInstitutionDataReducer)&&void 0!==e&&e.institutionData?t.editInstitutionDataReducer.institutionData:[]},p=function(t){var e;return null!==t&&void 0!==t&&null!==(e=t.editInstitutionDataReducer)&&void 0!==e&&e.successMessage?t.editInstitutionDataReducer.successMessage:""},v=i(9600),g=i(4527),m=i(184),Z=(0,h.lazy)((function(){return Promise.all([i.e(2861),i.e(7625),i.e(6477),i.e(9027),i.e(4870),i.e(5261)]).then(i.bind(i,8260))})),y=function(t){(0,l.Z)(i,t);var e=(0,d.Z)(i);function i(t){var n;return(0,o.Z)(this,i),(n=e.call(this,t)).state={prev_items:[],list_items:[],showModal:!1},n.addField=n.addField.bind((0,r.Z)(n)),n.deleteField=n.deleteField.bind((0,r.Z)(n)),n.handleInputChange=n.handleInputChange.bind((0,r.Z)(n)),n.handleUpdateInstitutionData=n.handleUpdateInstitutionData.bind((0,r.Z)(n)),n.validateEdit=n.validateEdit.bind((0,r.Z)(n)),n.toggleModal=n.toggleModal.bind((0,r.Z)(n)),n}return(0,u.Z)(i,[{key:"componentDidMount",value:function(){this.addField(),this.props.getProfileInstitutionData()}},{key:"componentDidUpdate",value:function(t){t.institutionDataResponse!==this.props.institutionDataResponse&&this.setState((0,s.Z)((0,s.Z)({},this.state),{},{prev_items:JSON.parse(JSON.stringify(this.props.institutionDataResponse))})),t.successMessageResponse!==this.props.successMessageResponse&&this.toggleModal()}},{key:"addField",value:function(){var t=this.state.list_items;this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:[].concat((0,a.Z)(t),[{role:"",institution_name:""}])}))}},{key:"deleteField",value:function(t){var e=this.state.list_items,i=(0,a.Z)(e);i.splice(t+1,1),this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:i}))}},{key:"handleInputChange",value:function(t,e){var i=t.target,n=i.name,o=i.value,u=this.state.list_items,r=(0,a.Z)(u);r[e][n]=o,this.setState((0,s.Z)((0,s.Z)({},this.state),{},{list_items:r}))}},{key:"handleUpdateInstitutionData",value:function(t){t.preventDefault();var e=this.state,i=e.prev_items,n=e.list_items,a=i.concat(n);this.validateEdit()&&this.props.updateProfileInstitutionData(a)}},{key:"validateEdit",value:function(){var t,e=this.state.list_items,i=(0,n.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!a.role)return(0,g.CF)("Peran harus diisi!"),!1;if(!a.institution_name)return(0,g.CF)("Nama institusi harus diisi!"),!1}}catch(s){i.e(s)}finally{i.f()}return!0}},{key:"toggleModal",value:function(){this.setState((0,s.Z)((0,s.Z)({},this.state),{},{showModal:!this.state.showModal}))}},{key:"render",value:function(){var t=this.state,e=t.list_items,i=t.showModal,n=this.props.institutionDataResponse;return(0,m.jsx)(Z,{list_items:e,showModal:i,addField:this.addField,deleteField:this.deleteField,institutionDataResponse:n,handleInputChange:this.handleInputChange,handleUpdateInstitutionData:this.handleUpdateInstitutionData,toggleModal:this.toggleModal})}}]),i}(h.PureComponent);var D=(0,c.$j)((function(t){return{institutionDataResponse:f(t),successMessageResponse:p(t)}}),(function(t){return{getProfileInstitutionData:function(){return t((0,v.v2)())},updateProfileInstitutionData:function(e){return t((0,v.Y_)(e))}}}))(y)},7762:function(t,e,i){i.d(e,{Z:function(){return a}});var n=i(181);function a(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=(0,n.Z)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,s=function(){};return{s:s,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,r=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return u=t.done,t},e:function(t){r=!0,o=t},f:function(){try{u||null==i.return||i.return()}finally{if(r)throw o}}}}}}]);
//# sourceMappingURL=7497.fbb9f453.chunk.js.map