{"version":3,"file":"static/js/7497.fbb9f453.chunk.js","mappings":"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","sources":["containers/EditProfileInstitution/selector.tsx","containers/EditProfileInstitution/index.tsx","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"sourcesContent":["const institutionDataSelector = (state: any) => {\n    return state?.editInstitutionDataReducer?.institutionData\n        ? state.editInstitutionDataReducer.institutionData\n        : [];\n};\n\nconst successMessageSelector = (state: any) => {\n    return state?.editInstitutionDataReducer?.successMessage\n        ? state.editInstitutionDataReducer.successMessage\n        : \"\";\n};\n\nexport {\n    institutionDataSelector,\n    successMessageSelector\n};\n","import { lazy, PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    institutionDataSelector,\n    successMessageSelector\n} from \"./selector\";\nimport {\n    getInstitutionData,\n    updateInstitutionData\n} from \"./action\";\nimport { showToast } from \"../../utils/general\";\n\nconst EditProfileInstitutionComponent = lazy(() => import(\"../../components/EditProfileInstitution\"));\n\nexport class EditProfileInstitutionContainer extends PureComponent<any, any> {\n    static propTypes = {\n        history: PropTypes.any,\n        institutionDataResponse: PropTypes.array,\n        successMessageResponse: PropTypes.string,\n    };\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            prev_items: [],\n            list_items: [],\n            showModal: false,\n        };\n        this.addField = this.addField.bind(this);\n        this.deleteField = this.deleteField.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleUpdateInstitutionData = this.handleUpdateInstitutionData.bind(this);\n        this.validateEdit = this.validateEdit.bind(this);\n        this.toggleModal = this.toggleModal.bind(this);\n    }\n\n    componentDidMount() {\n        this.addField();\n        this.props.getProfileInstitutionData();\n    }\n\n    componentDidUpdate(prevProps: any) {\n        if (prevProps.institutionDataResponse !== this.props.institutionDataResponse) {\n            this.setState({\n                ...this.state,\n                prev_items: JSON.parse(JSON.stringify(this.props.institutionDataResponse)),\n            });\n        }\n        if (prevProps.successMessageResponse !== this.props.successMessageResponse) {\n            this.toggleModal();\n        }\n    }\n\n    private addField(): void {\n        const { list_items } = this.state;\n        let item = {\n            role: \"\",\n            institution_name: \"\",\n        };\n        this.setState({\n            ...this.state,\n            list_items: [...list_items, item],\n        })\n    }\n\n    private deleteField(index: number): void {\n        const { list_items } = this.state;\n        let new_list = [...list_items];\n        new_list.splice(index+1, 1);\n        this.setState({\n            ...this.state,\n            list_items: new_list,\n        })\n    }\n\n    private handleInputChange(e: any, index: number): void {\n        const { name, value } = e.target;\n        const { list_items } = this.state;\n\n        let new_list = [...list_items];\n        new_list[index][name] = value;\n        this.setState({\n            ...this.state,\n            list_items: new_list,\n        })\n    }\n\n    private handleUpdateInstitutionData(e: any): void {\n        e.preventDefault();\n        const { prev_items, list_items } = this.state;\n        let all_items = prev_items.concat(list_items);\n        if (this.validateEdit()) {\n            this.props.updateProfileInstitutionData(all_items);\n        }\n    }\n\n    private validateEdit(): boolean {\n        const { list_items } = this.state;\n        for (let item of list_items) {\n            if (!item.role) {\n                showToast(\"Peran harus diisi!\");\n                return false;\n            }\n            else if (!item.institution_name) {\n                showToast(\"Nama institusi harus diisi!\");\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private toggleModal(): void {\n        this.setState({\n            ...this.state,\n            showModal: !this.state.showModal,\n        });\n    }\n\n    render() {\n        const { list_items, showModal } = this.state;\n        const { institutionDataResponse } = this.props;\n        return (\n            <EditProfileInstitutionComponent\n                list_items={list_items}\n                showModal={showModal}\n                addField={this.addField}\n                deleteField={this.deleteField}\n                institutionDataResponse={institutionDataResponse}\n                handleInputChange={this.handleInputChange}\n                handleUpdateInstitutionData={this.handleUpdateInstitutionData}\n                toggleModal={this.toggleModal}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        institutionDataResponse: institutionDataSelector(state),\n        successMessageResponse: successMessageSelector(state),\n    };\n};\n  \nfunction mapDispatchToProps(dispatch: any) {\n    return {\n        getProfileInstitutionData: () => dispatch(getInstitutionData()),\n        updateProfileInstitutionData: (params: any) => dispatch(updateInstitutionData(params)),\n    };\n}\n  \nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(EditProfileInstitutionContainer);","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"names":["institutionDataSelector","state","editInstitutionDataReducer","institutionData","successMessageSelector","successMessage","EditProfileInstitutionComponent","lazy","EditProfileInstitutionContainer","props","prev_items","list_items","showModal","addField","bind","deleteField","handleInputChange","handleUpdateInstitutionData","validateEdit","toggleModal","this","getProfileInstitutionData","prevProps","institutionDataResponse","setState","JSON","parse","stringify","successMessageResponse","role","institution_name","index","new_list","splice","e","target","name","value","preventDefault","all_items","concat","updateProfileInstitutionData","item","showToast","PureComponent","connect","dispatch","getInstitutionData","params","updateInstitutionData","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","done","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2"],"sourceRoot":""}